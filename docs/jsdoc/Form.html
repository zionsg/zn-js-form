<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Form - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/zionsg/zn-js-form" target="_blank" class="menu-item" id="repository" >GitHub repository</a></h2><h3>Namespaces</h3><ul><li><a href="ZnJsForm.html">ZnJsForm</a></li></ul><h3>Classes</h3><ul><li><a href="Field.html">Field</a><ul class='methods'><li data-type='method'><a href="Field.html#.newFieldconfig">new Field</a></li><li data-type='method'><a href="Field.html#render">render</a></li><li data-type='method'><a href="Field.html#validate">validate</a></li></ul></li><li><a href="Fieldset.html">Fieldset</a><ul class='methods'><li data-type='method'><a href="Fieldset.html#.newFieldsetconfig">new Fieldset</a></li><li data-type='method'><a href="Fieldset.html#render">render</a></li></ul></li><li><a href="Form.html">Form</a><ul class='methods'><li data-type='method'><a href="Form.html#.newFormconfig">new Form</a></li><li data-type='method'><a href="Form.html#clearData">clearData</a></li><li data-type='method'><a href="Form.html#getData">getData</a></li><li data-type='method'><a href="Form.html#render">render</a></li><li data-type='method'><a href="Form.html#setData">setData</a></li><li data-type='method'><a href="Form.html#validate">validate</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Form</h1>
    

    




<section>

<header>
    
        <h2>
        Form
        </h2>
        
    
</header>

<article>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="config"><span class="type-signature"></span>config<span class="type-signature"> :object</span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line61">line 61</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>action</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>URL for form submission.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Key-value pairs for attributes in <form>
element. Use empty string if the attribute has no value, null to
unset the attribute. E.g.:
<code>{ enctype: 'multipart/form-data', novalidate: '', required: null }</code>
will produce <code>&lt;form enctype=&quot;multipart/form-data&quot; novalidate&gt;</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>classes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>List of CSS classes for <code>&lt;form&gt;</code> element.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>formTemplate</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Mustache.js template for rendering
HTML for <form> element.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>errorsTemplate</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Mustache.js template for rendering
array of error messages for each field. It may be overridden in field
config. For simplicity, the classes are embedded in the template
instead of having an <code>errorClasses</code> key.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>inputTemplates</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Key-value pairs where key is input
type (e.g. text, select) and value is Mustache.js template for
rendering HTML for input element. The appropriate input template is
used when rendering the input for a field and may be overridden in
field config. For dropdowns/checkboxes/radio buttons, the following
template variables are available: <code>hasSelectedOption</code> (indicates if
an option is selected), <code>emptyOptionText</code> (the text for the option
with empty value), <code>selectedOptionText</code> (the text for the selected
option if any) and <code>options</code> (an array of objects, each having the
keys <code>optionValue</code>, <code>optionText</code> and <code>optionSelected</code>).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>HTTP method for form submission.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Form name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requiredText</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Text to return for error message if
value is empty for required fields. Can be overridden in field
config.</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>Configuration defaults for form.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>






        
            
<h4 class="name" id="fields"><span class="type-signature"></span>fields<span class="type-signature"> :Map.&lt;string, <a href="Fieldset.html">Fieldset</a>></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Fields.</p>
<p>Key is fieldset name, value is <code>Field</code> object.
Uses <code>Map</code> instead of <code>Object/Array</code> so that rendering order can be guaranteed by insertion
order and specific fields can be referenced easily by name instead of looping each time,
e.g. <code>fields.get('myfield')</code>.</p>
<p>Name is made optional in the <code>Field</code> object to reduce repetitions, e.g.
<code>field.set('myfield', new Field({}))</code> instead of
<code>field.set('myfield', new Field({ name:'myfield' }))</code>. It is also becos
the name of the field is dependent on the form that it is used in.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Map.&lt;string, <a href="Fieldset.html">Fieldset</a>></span>


        </li>
    </ul>






        
            
<h4 class="name" id="fieldsets"><span class="type-signature"></span>fieldsets<span class="type-signature"> :Map.&lt;string, <a href="Fieldset.html">Fieldset</a>></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line128">line 128</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Groups of fields, with each group rendered as a <code>&lt;fieldset&gt;</code> element.</p>
<p>Key is fieldset name, value is <code>Fieldset</code> object.
Uses <code>Map</code> instead of <code>Object/Array</code> so that rendering order can be guaranteed by insertion
order and specific fieldsets can be referenced easily by name instead of looping each time,
e.g. <code>fieldsets.get('myfieldset')</code>.</p>
<p>Name is made optional in the <code>Fieldset</code> object to reduce repetitions, e.g.
<code>fieldsets.set('myset', new Fieldset({}))</code> instead of
<code>fieldsets.set('myset', new Fieldset({ name:'myset' }))</code>. It is also becos
the name of the fieldset is dependent on the form that it is used in.</p>
<p>If at least one fieldset is specified, any fields not belonging to a fieldset will
not be rendered.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Map.&lt;string, <a href="Fieldset.html">Fieldset</a>></span>


        </li>
    </ul>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".newFormconfig"><span class="type-signature">(static) </span>new Form<span class="signature">(config)</span><span class="type-signature"> &rarr; {<a href="Form.html">Form</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line9">line 9</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Constructor.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Form configuration. See <code>Form.prototype.config</code>.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Form.html">Form</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="clearData"><span class="type-signature"></span>clearData<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line164">line 164</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Clear form data.</p>
<p>Each field will be set to its default value as per <code>field.config.value</code>,
not an empty string, else buttons and html type fields will lose their
text.</p>
</div>

























<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getData"><span class="type-signature"></span>getData<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line181">line 181</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Get form data.</p>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Key-value pairs where key is field name and value is
field value. Type of value may be string, number or array (multiple values such as for
multi-select checkbox group).</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="render"><span class="type-signature"></span>render<span class="signature">(templateVariables<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line203">line 203</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Renders HTML for entire form.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>templateVariables</code></td>
            

            <td class="type">
            
                
<span class="param-type">null</span>
|

<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last"><p>Optional key-value pairs
that can be used to add on to or override current template variables.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setData"><span class="type-signature"></span>setData<span class="signature">(formData)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line290">line 290</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Set form data.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formData</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Key-value pairs where key is field name and value is
field value. Type of value may be string, number or array (multiple values such as for
multi-select checkbox group).</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="validate"><span class="type-signature"></span>validate<span class="signature">(formData<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {null|object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Form.js.html">Form.js</a>, <a href="Form.js.html#line332">line 332</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Validate form.</p>
<p>Values and errors, if any, will be stored in fields after validation.
This is to aid when rendering the form after validation.</p>
<p>The method signature allows the validation of a form submission in one
line instead of having to call <code>form.setData()</code> each time before calling
<code>form.validate()</code>. Example scenario in an Express app:</p>
<pre><code>// If need form.setData() then code for response will be duplicated
if ('GET' === request.method
    || ('POST' === request.method &amp;&amp; !form.validate(request.body))
) {
    response.send(mustache.render({ // Mustache.js
        viewHtml, // template
        { record: record }, // template variables
        { form_html: form.render() } // partials
    }));
}</code></pre>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formData</code></td>
            

            <td class="type">
            
                
<span class="param-type">null</span>
|

<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>null</code>
                
                </td>
            

            <td class="description last"><p>Optional key-value pairs
where the key is the field name and the value is the submitted value.
If null or unspecified, current values in fields will be used for
validation.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Null returned if form is valid, else key-value
pairs are returned, with key being field name and value being
the error message for the field.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">null</span>
|

<span class="param-type">object</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Sat Aug 28 2021 16:10:38 GMT+0800 (Singapore Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>